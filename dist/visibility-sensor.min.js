!(function(t, e) {
  "object" == typeof exports && "object" == typeof module
    ? (module.exports = e(require("react"), require("react-dom")))
    : "function" == typeof define && define.amd
    ? define(["React", "ReactDOM"], e)
    : "object" == typeof exports
    ? (exports["react-visibility-sensor"] = e(
        require("react"),
        require("react-dom")
      ))
    : (t["react-visibility-sensor"] = e(t.React, t.ReactDOM));
})(this, function(o, n) {
  return (
    (i = [
      function(t, e, o) {
        t.exports = o(5)();
      },
      function(t, e) {
        t.exports = o;
      },
      function(t, e) {
        t.exports = function(t, e, o) {
          var n = t.direction,
            r = t.value;
          switch (n) {
            case "top":
              return (
                o.top + r < e.top &&
                o.bottom > e.bottom &&
                o.left < e.left &&
                o.right > e.right
              );
            case "left":
              return (
                o.left + r < e.left &&
                o.bottom > e.bottom &&
                o.top < e.top &&
                o.right > e.right
              );
            case "bottom":
              return (
                o.bottom - r > e.bottom &&
                o.left < e.left &&
                o.right > e.right &&
                o.top < e.top
              );
            case "right":
              return (
                o.right - r > e.right &&
                o.left < e.left &&
                o.top < e.top &&
                o.bottom > e.bottom
              );
          }
        };
      },
      function(t, e, o) {
        "use strict";
        o.r(e),
          o.d(e, "default", function() {
            return h;
          });
        var e = o(1),
          r = o.n(e),
          e = (o(4), o(0)),
          e = o.n(e),
          n = o(2),
          a = o.n(n);
        function l(t) {
          return (l =
            "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
              ? function(t) {
                  return typeof t;
                }
              : function(t) {
                  return t &&
                    "function" == typeof Symbol &&
                    t.constructor === Symbol &&
                    t !== Symbol.prototype
                    ? "symbol"
                    : typeof t;
                })(t);
        }
        function i(t, e) {
          for (var o = 0; o < e.length; o++) {
            var n = e[o];
            (n.enumerable = n.enumerable || !1),
              (n.configurable = !0),
              "value" in n && (n.writable = !0),
              Object.defineProperty(t, b(n.key), n);
          }
        }
        function u(t, e, o) {
          e = s(e);
          var n = t,
            e = c()
              ? Reflect.construct(e, o || [], s(t).constructor)
              : e.apply(t, o);
          if (e && ("object" === l(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          t = n;
          if (void 0 !== t) return t;
          throw new ReferenceError(
            "this hasn't been initialised - super() hasn't been called"
          );
        }
        function c() {
          try {
            var t = !Boolean.prototype.valueOf.call(
              Reflect.construct(Boolean, [], function() {})
            );
          } catch (t) {}
          return (c = function() {
            return !!t;
          })();
        }
        function s(t) {
          return (s = Object.setPrototypeOf
            ? Object.getPrototypeOf.bind()
            : function(t) {
                return t.__proto__ || Object.getPrototypeOf(t);
              })(t);
        }
        function p(t, e) {
          return (p = Object.setPrototypeOf
            ? Object.setPrototypeOf.bind()
            : function(t, e) {
                return (t.__proto__ = e), t;
              })(t, e);
        }
        function f(t, e, o) {
          (e = b(e)) in t
            ? Object.defineProperty(t, e, {
                value: o,
                enumerable: !0,
                configurable: !0,
                writable: !0
              })
            : (t[e] = o);
        }
        function b(t) {
          t = (function(t, e) {
            if ("object" != l(t) || !t) return t;
            var o = t[Symbol.toPrimitive];
            if (void 0 === o) return ("string" === e ? String : Number)(t);
            o = o.call(t, e || "default");
            if ("object" != l(o)) return o;
            throw new TypeError("@@toPrimitive must return a primitive value.");
          })(t, "string");
          return "symbol" == l(t) ? t : t + "";
        }
        var h = (function(t) {
          function e(t) {
            var c;
            if (this instanceof e)
              return (
                f((c = u(this, e, [t])), "getContainer", function() {
                  return c.props.containment || window;
                }),
                f(c, "addEventListener", function(t, e, o, n) {
                  c.debounceCheck || (c.debounceCheck = {});
                  var r,
                    i = function() {
                      (r = null), c.check();
                    },
                    a =
                      -1 < n
                        ? function() {
                            r = r || setTimeout(i, n || 0);
                          }
                        : function() {
                            clearTimeout(r), (r = setTimeout(i, o || 0));
                          },
                    a = {
                      target: t,
                      fn: a,
                      getLastTimeout: function() {
                        return r;
                      }
                    };
                  t.addEventListener(e, a.fn), (c.debounceCheck[e] = a);
                }),
                f(c, "startWatching", function() {
                  c.debounceCheck ||
                    c.interval ||
                    (c.props.intervalCheck &&
                      (c.interval = setInterval(
                        c.check,
                        c.props.intervalDelay
                      )),
                    c.props.scrollCheck &&
                      c.addEventListener(
                        c.getContainer(),
                        "scroll",
                        c.props.scrollDelay,
                        c.props.scrollThrottle
                      ),
                    c.props.resizeCheck &&
                      c.addEventListener(
                        window,
                        "resize",
                        c.props.resizeDelay,
                        c.props.resizeThrottle
                      ),
                    c.props.delayedCall) ||
                    c.check();
                }),
                f(c, "stopWatching", function() {
                  if (c.debounceCheck)
                    for (var t in c.debounceCheck) {
                      var e;
                      c.debounceCheck.hasOwnProperty(t) &&
                        ((e = c.debounceCheck[t]),
                        clearTimeout(e.getLastTimeout()),
                        e.target.removeEventListener(t, e.fn),
                        (c.debounceCheck[t] = null));
                    }
                  (c.debounceCheck = null),
                    c.interval && (c.interval = clearInterval(c.interval));
                }),
                f(c, "check", function() {
                  var t,
                    e = c.node;
                  if (!e) return c.state;
                  void 0 ===
                    (e = c.roundRectDown(e.getBoundingClientRect())).width &&
                    (e.width = e.right - e.left),
                    void 0 === e.height && (e.height = e.bottom - e.top),
                    (e = e),
                    (t = c.props.containment
                      ? {
                          top: (t = c.props.containment.getBoundingClientRect())
                            .top,
                          left: t.left,
                          bottom: t.bottom,
                          right: t.right
                        }
                      : {
                          top: 0,
                          left: 0,
                          bottom:
                            window.innerHeight ||
                            document.documentElement.clientHeight,
                          right:
                            window.innerWidth ||
                            document.documentElement.clientWidth
                        });
                  var o = c.props.offset || {},
                    n =
                      ("object" === l(o) &&
                        ((t.top += o.top || 0),
                        (t.left += o.left || 0),
                        (t.bottom -= o.bottom || 0),
                        (t.right -= o.right || 0)),
                      {
                        top: e.top >= t.top,
                        left: e.left >= t.left,
                        bottom: e.bottom <= t.bottom,
                        right: e.right <= t.right
                      }),
                    r = 0 < e.height && 0 < e.width,
                    i = r && n.top && n.left && n.bottom && n.right,
                    r =
                      (r &&
                        c.props.partialVisibility &&
                        ((r =
                          e.top <= t.bottom &&
                          e.bottom >= t.top &&
                          e.left <= t.right &&
                          e.right >= t.left),
                        "string" == typeof c.props.partialVisibility &&
                          (r = n[c.props.partialVisibility]),
                        (i = c.props.minTopValue
                          ? r && e.top <= t.bottom - c.props.minTopValue
                          : r)),
                      "string" == typeof o.direction &&
                        "number" == typeof o.value &&
                        (console.warn(
                          "[notice] offset.direction and offset.value have been deprecated. They still work for now, but will be removed in next major version. Please upgrade to the new syntax: { %s: %d }",
                          o.direction,
                          o.value
                        ),
                        (i = a()(o, e, t))),
                      c.state);
                  return (
                    c.state.isVisible !== i &&
                      (c.setState((r = { isVisible: i, visibilityRect: n })),
                      c.props.onChange) &&
                      c.props.onChange(i),
                    r
                  );
                }),
                (c.state = { isVisible: null, visibilityRect: {} }),
                c
              );
            throw new TypeError("Cannot call a class as a function");
          }
          var o,
            n = e;
          if ("function" != typeof t && null !== t)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          return (
            (n.prototype = Object.create(t && t.prototype, {
              constructor: { value: n, writable: !0, configurable: !0 }
            })),
            Object.defineProperty(n, "prototype", { writable: !1 }),
            t && p(n, t),
            (n = e),
            (t = [
              {
                key: "componentDidMount",
                value: function() {
                  this.props.active && this.startWatching();
                }
              },
              {
                key: "componentWillUnmount",
                value: function() {
                  this.stopWatching();
                }
              },
              {
                key: "componentDidUpdate",
                value: function(t) {
                  this.props.active && !t.active
                    ? (this.setState({ isVisible: null, visibilityRect: {} }),
                      this.startWatching())
                    : this.props.active || this.stopWatching();
                }
              },
              {
                key: "roundRectDown",
                value: function(t) {
                  return {
                    top: Math.floor(t.top),
                    left: Math.floor(t.left),
                    bottom: Math.floor(t.bottom),
                    right: Math.floor(t.right)
                  };
                }
              },
              {
                key: "render",
                value: function() {
                  function t(t) {
                    e.node = t;
                  }
                  var e = this;
                  return this.props.children instanceof Function
                    ? this.props.children({
                        sensorRef: t,
                        isVisible: this.state.isVisible,
                        visibilityRect: this.state.visibilityRect
                      })
                    : r.a.cloneElement(r.a.Children.only(this.props.children), {
                        ref: t
                      });
                }
              }
            ]) && i(n.prototype, t),
            o && i(n, o),
            Object.defineProperty(n, "prototype", { writable: !1 }),
            n
          );
        })(r.a.Component);
        f(h, "defaultProps", {
          active: !0,
          partialVisibility: !1,
          minTopValue: 0,
          scrollCheck: !1,
          scrollDelay: 250,
          scrollThrottle: -1,
          resizeCheck: !1,
          resizeDelay: 250,
          resizeThrottle: -1,
          intervalCheck: !0,
          intervalDelay: 100,
          delayedCall: !1,
          offset: {},
          containment: null,
          children: r.a.createElement("span", null)
        }),
          f(h, "propTypes", {
            onChange: e.a.func,
            active: e.a.bool,
            partialVisibility: e.a.oneOfType([
              e.a.bool,
              e.a.oneOf(["top", "right", "bottom", "left"])
            ]),
            delayedCall: e.a.bool,
            offset: e.a.oneOfType([
              e.a.shape({
                top: e.a.number,
                left: e.a.number,
                bottom: e.a.number,
                right: e.a.number
              }),
              e.a.shape({
                direction: e.a.oneOf(["top", "right", "bottom", "left"]),
                value: e.a.number
              })
            ]),
            scrollCheck: e.a.bool,
            scrollDelay: e.a.number,
            scrollThrottle: e.a.number,
            resizeCheck: e.a.bool,
            resizeDelay: e.a.number,
            resizeThrottle: e.a.number,
            intervalCheck: e.a.bool,
            intervalDelay: e.a.number,
            containment:
              "undefined" != typeof window
                ? e.a.instanceOf(window.Element)
                : e.a.any,
            children: e.a.oneOfType([e.a.element, e.a.func]),
            minTopValue: e.a.number
          });
      },
      function(t, e) {
        t.exports = n;
      },
      function(t, e, o) {
        "use strict";
        var a = o(6);
        function n() {}
        function r() {}
        (r.resetWarningCache = n),
          (t.exports = function() {
            function t(t, e, o, n, r, i) {
              if (i !== a)
                throw (((i = new Error(
                  "Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"
                )).name = "Invariant Violation"),
                i);
            }
            function e() {
              return t;
            }
            var o = {
              array: (t.isRequired = t),
              bigint: t,
              bool: t,
              func: t,
              number: t,
              object: t,
              string: t,
              symbol: t,
              any: t,
              arrayOf: e,
              element: t,
              elementType: t,
              instanceOf: e,
              node: t,
              objectOf: e,
              oneOf: e,
              oneOfType: e,
              shape: e,
              exact: e,
              checkPropTypes: r,
              resetWarningCache: n
            };
            return (o.PropTypes = o);
          });
      },
      function(t, e, o) {
        "use strict";
        t.exports = "SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";
      }
    ]),
    (a = {}),
    (r.m = i),
    (r.c = a),
    (r.d = function(t, e, o) {
      r.o(t, e) || Object.defineProperty(t, e, { enumerable: !0, get: o });
    }),
    (r.r = function(t) {
      "undefined" != typeof Symbol &&
        Symbol.toStringTag &&
        Object.defineProperty(t, Symbol.toStringTag, { value: "Module" }),
        Object.defineProperty(t, "__esModule", { value: !0 });
    }),
    (r.t = function(e, t) {
      if ((1 & t && (e = r(e)), 8 & t)) return e;
      if (4 & t && "object" == typeof e && e && e.__esModule) return e;
      var o = Object.create(null);
      if (
        (r.r(o),
        Object.defineProperty(o, "default", { enumerable: !0, value: e }),
        2 & t && "string" != typeof e)
      )
        for (var n in e)
          r.d(
            o,
            n,
            function(t) {
              return e[t];
            }.bind(null, n)
          );
      return o;
    }),
    (r.n = function(t) {
      var e =
        t && t.__esModule
          ? function() {
              return t.default;
            }
          : function() {
              return t;
            };
      return r.d(e, "a", e), e;
    }),
    (r.o = function(t, e) {
      return Object.prototype.hasOwnProperty.call(t, e);
    }),
    (r.p = ""),
    r((r.s = 3))
  );
  function r(t) {
    var e;
    return (
      a[t] ||
      ((e = a[t] = { i: t, l: !1, exports: {} }),
      i[t].call(e.exports, e, e.exports, r),
      (e.l = !0),
      e)
    ).exports;
  }
  var i, a;
});
